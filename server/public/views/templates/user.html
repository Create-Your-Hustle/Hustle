<div class="header" ng-include="'views/partials/nav.html'">
</div>
<div class="homeContent lightOrangeDiv">
    <md-content layout="column">

        <div flex="5" layout="column">
            <div class="main" layout="column">
                <div flex layout-xs="column" layout="row">
                    <div flex layout="column" class="rightBorder">
                        <div flex>
                            <img class="profilePhoto" ng-src="{{vm.selectedUser.list[0].user_picture}}">
                        </br>
                        <md-button ng-if="vm.userObject.userName === vm.selectedUser.list[0].username" class="md-accent md-raised" ng-click="vm.uploadProfilePicture(vm.selectedUser.list[0], projectImage.imageUrl)">Change Profile Picture?</md-button>
                        </div>
                    </div>
                    <div flex>
                        <H1 class="md-display-1">{{vm.selectedUser.list[0].display_name}}</H1>
                        <p>
                            <span ng-hide="vm.isEditing.username">{{vm.selectedUser.list[0].user_bio}}</span>
                            <span ng-show="vm.isEditing.username">
                                <input type="text" ng-model="vm.selectedUser.list[0].user_bio">
                            </span>
                            </span>
                        </p>
                        <h2 class="md-subheader">
                            </br>
                            <span ng-hide="vm.isEditing.username"></span>
                            <span ng-show="vm.isEditing.username">
                                <H3 class="md-subheader">Enter your display name here:</H3>
                                <input ng-value="help" ng-model="vm.selectedUser.list[0].displayName">
                            </span>
                            <span ng-if="vm.userObject.userName === vm.selectedUser.list[0].username" ng-hide="vm.isEditing.username">
                                <md-button class="md-raised md-accent" ng-click="vm.isEditing.username = true">Edit Display Name or Bio?</md-button>
                            </span>
                            <span ng-if="vm.userObject.id === vm.selectedUser.list[0].id" ng-show="vm.isEditing.username">
                                <md-button class="md-raised md-primary" ng-click="vm.editUsername(vm.selectedUser.list[0])">Save</md-button>
                            </span>
                        </h2>

                    </div>
                </div>
                <div flex layout-xs="column" layout="row">
                    <div flex class="rightBorder">
                        <table>
                            <th>
                                <H1 class="md-display-1">Current Skills </H1>
                            </th>
                            <tr ng-repeat="skills in vm.selectedUser.list ">
                                <td>{{skills.skill_name}}</td>
                                <td>{{skills.skill_rating}}</td>
                                <td ng-if="vm.userObject.userName === vm.selectedUser.list[0].username">
                                    <md-button class="md-raised md-primary" ng-click="vm.deleteSkill(skills)">Delete?</md-button>
                                </td>
                            </tr>
                        </table>
                        </br>
                        <table ng-if="vm.userObject.userName === vm.selectedUser.list[0].username" >
                            <th>
                                <H1 class="md-display-1">Add New Skills? </H1>
                            </th>
                            <tr>
                                <td style="text-decoration: underline">
                                    <H4 class="md-subhead">Skill Name?</H4>
                                </td>
                                <td style="text-decoration: underline">
                                    <H4 class="md-subhead">Skill Level?</H4>
                                </td>
                            </tr>
                            <tr ng-if="vm.userObject.userName === vm.selectedUser.list[0].username">
                                <td>
                                    <md-select ng-model="vm.newSkill.skill_id">
                                        <md-option ng-value="skill.skill_id" ng-repeat="skill in vm.skillslist.list">
                                            {{skill.skill_name}}
                                        </md-option>
                                    </md-select>
                                </td>
                                <td>
                                    <md-select ng-model="vm.newSkill.skill_rating">
                                        <md-option ng-value="1">Beginner</md-option>
                                        <md-option ng-value="2">Intermediate</md-option>
                                        <md-option ng-value="3">Expert</md-option>
                                    </md-select>
                                </td>
                                <td>
                                    <md-button class="md-raised md-primary" ng-click="vm.addSkill(vm.newSkill)">Add?</md-button>
                                </td>

                            </tr>
                        </table>
                    </div>
                    <div flex>
                        <H1 class="md-display-1">Preferences</H1>
                        <p>
                            <span ng-hide="vm.isEditing.preferences">
                                Location: {{vm.selectedUser.list[0].user_city}}, {{vm.selectedUser.list[0].user_state}},
                                <span ng-show=vm.selectedUser.list[0].user_remote>Willing to work remotely</span>
                                <span ng-hide=vm.selectedUser.list[0].user_remote>Local only</span>
                            </span>
                            <span ng-show="vm.isEditing.preferences">
                                Location:
                                <input ng-model="vm.selectedUser.list[0].user_city"> ,
                                <input ng-model="vm.selectedUser.list[0].user_state">
                                <md-checkbox ng-model="vm.selectedUser.list[0].user_remote">Willing to work remotely</md-checkbox>
                            </span>
                        </p>
                        <p>
                            <span ng-hide="vm.isEditing.preferences">
                                Compensation:
                                <span ng-show=vm.selectedUser.list[0].user_for_pay>Pay</span>
                                <span ng-show=vm.selectedUser.list[0].user_for_trade>Trade</span>
                            </span>
                            <span ng-show="vm.isEditing.preferences">
                                Compensation:
                                <md-checkbox ng-model="vm.selectedUser.list[0].user_for_pay">For Pay</md-checkbox>
                                <md-checkbox ng-model="vm.selectedUser.list[0].user_for_trade">For Trade</md-checkbox>
                            </span>
                        </p>
                        <p>
                            <span ng-hide="vm.isEditing.preferences">
                                Weekly Commitment {{vm.selectedUser.list[0].user_weekly_min}}-{{vm.selectedUser.list[0].user_weekly_max}} hours
                            </span>
                            <span ng-show="vm.isEditing.preferences">
                                Weekly Commitment
                                <input ng-model="vm.selectedUser.list[0].user_weekly_min"> -
                                <input ng-model="vm.selectedUser.list[0].user_weekly_max"> hours
                            </span>
                        </p>
                        <md-button class="md-raised md-accent" ng-if="vm.userObject.userName === vm.selectedUser.list[0].username" ng-hide="vm.isEditing.preferences"
                            ng-click="vm.isEditing.preferences = true">Edit?</md-button>
                        <md-button class="md-raised md-primary" ng-if="vm.userObject.userName === vm.selectedUser.list[0].username" ng-show="vm.isEditing.preferences"
                            ng-click="vm.editPreferences(vm.selectedUser.list[0])">Done?</md-button>
                    </div>
                </div>
                <div layout="column">
                    <div flex>
                        <h1 class="md-display-1">Projects <md-button ng-click="vm.createProject()" class="md-raised md-primary">Create New Project</md-button></h1>
                    </div>
                    <div flex layout="row" layout-xs="column" layout-padding>
                        <div flex flex-gt-xs="50" layout="row" layout-xs="column" ng-repeat="project in vm.collaboratorProjects.list">
                            <div flex flex-gt-xs="33">
                                <img ng-src="{{project.project_picture}}" class="md-card-image" alt="user avatar" />
                            </div>
                            <div flex layout="column">
                                <div flex>
                                    <h3>{{project.project_name}}</h3>
                                </div>
                                <div flex>
                                    <span>{{project.project_description}}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </md-content>
</div>
<div ng-include="'views/partials/footer.html'"></div>